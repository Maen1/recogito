{"version":3,"sources":["common/content/activity/ActivityWidget.jsx","common/content/profile/CollaboratorList.jsx","common/content/profile/ProfileInfo.jsx","common/content/table/rows/BaseRowComponent.jsx","common/content/table/rows/HeaderRow.jsx","common/content/table/rows/DocumentRow.jsx","common/content/table/rows/FolderRow.jsx","common/content/table/preferences/ColumnOrder.jsx","common/content/table/preferences/PreferencesModal.jsx","common/content/table/TablePane.jsx","common/content/grid/Folder.jsx","common/content/grid/Document.jsx","common/content/grid/GridPane.jsx","common/content/table/Columns.js","common/content/Selection.js","common/content/Readme.jsx","common/StoredUIState.js","common/components/Modal.jsx","common/content/upload/DropzoneDecoration.jsx","common/content/profile/Avatar.jsx","profile/API.js","profile/sidebar/Sidebar.jsx","profile/top/Search.jsx","profile/top/TopBar.jsx","profile/App.jsx","common/content/HeaderIcon.jsx","common/content/Breadcrumbs.jsx"],"names":["LINE_STYLE","stroke","strokeWidth","AXIS_STYLE","fontSize","color","tickFormatter","tick","Intl","DateTimeFormat","month","format","Date","ActivityWidget","n","toTimestamp","empty","Array","fill","reduce","arr","_","last","length","push","reverse","map","timestamp","value","t","toTime","getTime","this","createEmptySeries","concat","timeseries","props","stats","over_time","parse","date","padTimeseries","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_number_format__WEBPACK_IMPORTED_MODULE_10___default","displayType","total_contributions","thousandSeparator","recharts__WEBPACK_IMPORTED_MODULE_6__","width","height","barCategoryGap","data","computeChart","recharts__WEBPACK_IMPORTED_MODULE_7__","strokeDasharray","horizontal","recharts__WEBPACK_IMPORTED_MODULE_8__","type","dataKey","axisLine","tickSize","tickCount","tickLine","domain","padding","left","right","recharts__WEBPACK_IMPORTED_MODULE_9__","Component","CollaboratorList","_this","Object","_home_simonr_Workspaces_pelagios_recogito2_workspace_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_simonr_Workspaces_pelagios_recogito2_workspace_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_simonr_Workspaces_pelagios_recogito2_workspace_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","collaborators","fetchCollaborators","_this2","username","axios","get","then","result","setState","Fragment","title","user","key","href","_Avatar_jsx__WEBPACK_IMPORTED_MODULE_7__","Identity","url","replace","dataAvailable","account","member_since","_Avatar_jsx__WEBPACK_IMPORTED_MODULE_6__","real_name","year","day","bio","website","formatURL","BaseRowComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","updateTotalRowSpan","next","_totalSpan","columns","total","field","Columns","getSpan","HeaderRow","react_default","style","prototype","onClick","onSort","bind","HEADER_NAMES","sortColumn","sortAsc","ICONS","TEXT_PLAIN","TEXT_TEIXML","IMAGE_UPLOAD","IMAGE_IIIF","DATA_CSV","FORMATTERS","language","toUpperCase","uploaded_at","datetime","last_edit_at","lib_default","public_visibility","visibility","access_level","level","annotations","number_format_default","status_ratio","ratio","verified","unverified","not_identifiable","pctGreen","pctYellow","labels","tooltip","count","slice","AGGREGATE_FIELDS","agg_document","item","author","DocumentRow","substring","formatter","undefined","filetypes","id","selected","startsWith","createAggregateField","createField","src","alt","FolderRow","editable","evt","_input","select","preventDefault","stopPropagation","target","_this3","which","onRename","_this4","ref","i","makeEditable","onChange","onKeyDown","onKeyPress","SortableItem","SortableElement","_ref","label","SortableList","SortableContainer","_ref2","items","idx","index","ColumnOrder","onSortEnd","e","oldIndex","newIndex","PreferencesModal","states","COLUMNS","forEach","isChecked","includes","checked","toAppend","filter","checkAll","setAllRows","name","prev","indexOf","splice","arrayMove","Modal","onClose","onCancel","onClickAll","toggleOne","htmlFor","ColumnOrder_ColumnOrder","onSave","TablePane","prefsOpen","filterByView","view","selection","Selection","folders","documents","isShift","getModifierState","isCtrl","selectRange","selectItem","onSelect","getSelectedItems","allItems","args","FolderRow_FolderRow","onRenameFolder","DocumentRow_DocumentRow","visible","onChangeColumnPrefs","asc","sorting","by","active","drag","files","dataTransfer","getData","hostname","document","onDropFiles","window","location","onDropURL","readme","React","Children","toArray","children","c","Readme","shift","tablePane","es","rowCount","rowHeight","rowRenderer","DropzoneDecoration","busy","HeaderRow_HeaderRow","sortBy","showPreferences","disableFiledrop","dist_es","disableClick","onDragEnter","onDrag","onDragLeave","onDrop","PreferencesModal_PreferencesModal","onSavePreferences","Folder","Document","isStacked","fileCount","GridPane","itemsPerRow","fromIndex","itemsInRow","Math","min","renderedItems","rowIdx","Folder_Folder","Document_Document","file_count","gridPane","itemCount","floor","ceil","COLUMNS_SHARED_WITH_ME","date_freeform","last_edit_by","activity","owner","shared_by","COLUMN_WIDTH","AGGREGATE_COLUMNS","_home_simonr_Workspaces_pelagios_recogito2_workspace_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","w","_allItems","_selection","isCtrlPressed","thisIdx","toIdx","selectedIndices","minIdx","apply","maxIdx","max","isOutside","from","to","find","ft","INITIAL_STATE","editing","modifiedContent","onKeydown","_home_simonr_Workspaces_pelagios_recogito2_workspace_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","ctrlKey","addEventListener","removeEventListener","onDelete","onUpdate","content","react__WEBPACK_IMPORTED_MODULE_6___default","react_markdown__WEBPACK_IMPORTED_MODULE_7___default","source","onEdit","react_sane_contenteditable__WEBPACK_IMPORTED_MODULE_8__","tagName","multiLine","editOnOpen","renderEdit","renderView","StoredUIState","localStorage","getItem","JSON","prefixed","setItem","stringify","react_draggable__WEBPACK_IMPORTED_MODULE_6___default","handle","AnimatedDiv","posed","div","open","bottom","transition","ease","duration","closed","pose","Avatar","str","hash","charCodeAt","stringToHslColor","backgroundColor","charAt","API","config","opt_folderId","post","Sidebar","ProfileInfo","Search","placeholder","TopBar","me","logged_in","Search_Search","loggedInAs","notLoggedIn","App","visitedAccount","presentation","table_columns","table_sorting","total_docs","assign","load","_profileOwner","pathname","onhashchange","reloadDocuments","assertThisInitialized","fetchPublicAccountInfo","r","fetchLoginStatus","currentFolderId","fetchAccessibleDocuments","getDisplayConfig","expandAggregatedColumns","sort","before","p","save","_this5","TopBar_TopBar","Sidebar_Sidebar","Breadcrumbs","HeaderIcon","icon","onTogglePresentation","onSortTable","ReactDOM","render","App_App","getElementById","link","VIEW_LABELS","MY_DOCUMENTS","SHARED_WITH_ME","path","b"],"mappings":"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","file":"static/js/profile.c953a683.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Bar, BarChart, CartesianGrid, XAxis } from 'recharts';\nimport NumberFormat from 'react-number-format';\n\nconst LINE_STYLE = {\n  stroke: '#c2c2c2', \n  strokeWidth:1\n}\n\nconst AXIS_STYLE = {\n  fontSize:\"12px\",\n  color:\"#3f3f3f\"\n}\n\nconst WEEK = 3600000 * 24 * 7; // A week in milliseconds\n\nconst tickFormatter = (tick) => new Intl.DateTimeFormat('en-GB', {\n  month: 'short'\n}).format(new Date(tick));\n\nexport default class ActivityWidget extends Component {\n\n  /** Helper that generates an empty time series of N buckets with value 0 */\n  createEmptySeries(n, toTimestamp) {\n    const empty = new Array(n);\n    empty.fill(0); // Needs to contain *something* for .reduce to work\n\n    const timestamps = empty.reduce((arr, _) => {\n      const last = arr[arr.length - 1];\n      arr.push(last - WEEK);\n      return arr;\n    }, [ toTimestamp - WEEK ]).reverse();\n\n    return timestamps.map(timestamp => {\n      return { timestamp: timestamp, value: 0 };\n    });\n  }\n\n  padTimeseries(t) {\n    const toTime = t.length > 0 ? t[0].timestamp : new Date().getTime();\n    const padding = this.createEmptySeries(19 - t.length, toTime);\n    return padding.concat(t);\n  }\n\n  computeChart() {\n    // Data comes as ISO strings - convert\n    const timeseries = this.props.stats.over_time.map(t => {\n      return { timestamp: Date.parse(t.date), value: t.value };\n    });\n\n    if (timeseries.length < 20) {\n      return this.padTimeseries(timeseries);\n    } else {\n      return timeseries;\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.props.className ? \n        `activity-widget ${this.props.className}` : \"activity-widget\"}>\n\n        <h2>Activity \n          {this.props.stats && \n            <span className=\"count\">\n              <NumberFormat \n                displayType=\"text\"\n                value={this.props.stats.total_contributions}\n                thousandSeparator={true} /> edits\n            </span>\n          }\n        </h2>\n\n        {this.props.stats &&\n          <BarChart \n            width={this.props.width} \n            height={this.props.height} \n            barCategoryGap={1.5}\n            data={this.computeChart()} >\n\n            <CartesianGrid \n              strokeDasharray=\"3\" \n              horizontal={false}/>\n\n            <XAxis \n              type=\"number\"\n              dataKey=\"timestamp\"\n\n              axisLine={LINE_STYLE} \n\n              tick={AXIS_STYLE}\n              tickSize={4}\n              tickCount={6}\n              tickLine={LINE_STYLE}\n              tickFormatter={tickFormatter}\n\n              height={20}\n              domain={['dataMin', 'dataMax']}\n              padding={{ left: 5, right: 5 }} />\n\n            <Bar \n              dataKey=\"value\" \n              fill={this.props.fill} />\n\n          </BarChart>\n        }\n      </div>\n    )\n  }\n\n}","import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Avatar from './Avatar.jsx';\n\nexport default class CollaboratorList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { collaborators: [] };\n    this.fetchCollaborators(props);\n  }\n\n  componentWillReceiveProps(props) {\n    this.fetchCollaborators(props);\n  }\n\n  fetchCollaborators(props) {\n    if (props.username)\n      axios\n        .get(`/api/account/${props.username}/collaborators`)\n        .then(result => this.setState({ collaborators: result.data }));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.collaborators.length > 0 &&\n          <div className={this.props.className ? `collaborator-list ${this.props.className}` : 'collaborator-list'}>\n            <h2>{this.props.title}</h2>\n            <ul>\n              {this.state.collaborators.map(user => \n                <li key={user.username}>\n                  <a href={`/${user.username}`} title={user.username}>\n                    <Avatar username={user.username} />\n                  </a>\n                </li>\n              )}\n            </ul>\n          </div>\n        }\n      </React.Fragment>\n    )\n  }\n\n}","import React, { Component } from 'react';\n\nimport Avatar from './Avatar.jsx';\n\nexport default class Identity extends Component {\n\n  formatURL(url) {\n    return url.replace(/^https?:\\/\\//i, '');\n  }\n\n  render() {\n    const dataAvailable = \n      this.props.account && \n      this.props.account.username &&\n      this.props.account.member_since;\n      \n    return (\n      <div className=\"identity\">\n        <div className=\"user\">\n          <Avatar username={dataAvailable && this.props.account.username} />\n\n          <h1>\n            { dataAvailable ?\n                ((this.props.account.real_name) ? \n                  this.props.account.real_name : this.props.account.username) :\n\n                (<span className=\"placeholder\" />) }\n          </h1>\n\n          <p className=\"member-since\">\n            { dataAvailable ?\n              <React.Fragment>\n                Joined on { new Intl.DateTimeFormat('en-GB', {\n                  year : 'numeric',\n                  month: 'short',\n                  day  : '2-digit'\n                }).format(new Date(this.props.account.member_since)) }\n              </React.Fragment> : <span className=\"placeholder\" />\n            }\n          </p>\n        </div>\n\n        <div className=\"user-extended\">\n          { dataAvailable && this.props.account.bio &&\n            <p className=\"bio\">{this.props.account.bio}</p> }\n\n          { dataAvailable && this.props.account.website && \n            <p className=\"homepage\">\n              <a href={this.props.account.website}>{this.formatURL(this.props.account.website)}</a>\n            </p>\n          }\n        </div>\n      </div>\n    )\n  }\n\n}\n","import { Component } from 'react';\n\nimport { Columns } from '../Columns.js';\n\nexport default class BaseRowComponent extends Component {\n\n  constructor(props) {\n    super(props);\n    this.updateTotalRowSpan(props);\n  }\n\n  componentWillReceiveProps(next) {\n    this.updateTotalRowSpan(next);\n  }\n\n  /** Updates total unit width requirement for current row layout **/\n  updateTotalRowSpan(props) {\n    this._totalSpan = props.columns.reduce((total, field) => total + Columns.getSpan(field), 0);\n  }\n\n  getWidth(field) {\n    const span = Columns.getSpan(field);\n    return span / this._totalSpan;\n  }\n  \n}","import React from 'react';\n\nimport BaseRowComponent from './BaseRowComponent.jsx';\nimport { HEADER_NAMES } from '../Columns.js';\n\nexport default class HeaderRow extends BaseRowComponent {\n\n  render() {\n    return (\n      <div className=\"column-labels\">\n        {this.props.columns.map(field =>\n          <span\n            key={field}\n            style={{ width: `${100 * super.getWidth(field)}%` }}\n            className={`label ${field}`}\n            onClick={this.props.onSort.bind(this, field)}>\n            <span className=\"inner-wrapper\">\n              <span className=\"inner\">\n                {HEADER_NAMES[field] || field}\n              </span>\n              {this.props.sortColumn === field &&\n                <span className=\"sort icon\">\n                  <span className=\"inner\">\n                    {(this.props.sortAsc) ? '\\ue688' : '\\ue682' }\n                  </span>\n                </span>\n              }\n            </span>\n          </span>\n        )}\n      </div>\n    )\n  }\n\n}\n","import React from 'react';\nimport NumberFormat from 'react-number-format';\nimport TimeAgo from 'react-timeago';\n\nimport BaseRowComponent from './BaseRowComponent.jsx';\n\n/** Icons for possible content type values **/\nconst ICONS = {\n  TEXT_PLAIN   : 'icon_text.png',\n  TEXT_TEIXML  : 'icon_tei.png',\n  IMAGE_UPLOAD : 'icon_image.png',\n  IMAGE_IIIF   : 'icon_iiif.png',\n  DATA_CSV     : 'icon_csv.png'\n};\n\n/** Formatting rules for possible field types **/\nconst FORMATTERS = {\n  language: (language) => \n    language.toUpperCase(),\n\n  uploaded_at: (datetime) => \n    new Intl.DateTimeFormat('en-GB', {\n      year : 'numeric',\n      month: 'short',\n      day  : '2-digit'\n    }).format(new Date(datetime)),\n  \n  last_edit_at: (datetime) => \n    <TimeAgo date={datetime} />,\n\n  public_visibility: (visibility) => {\n    if (visibility === 'PUBLIC') \n      return ( <span className=\"icon\" title=\"Open to anyone\">&#xf09c;</span> );\n    else if (visibility === 'WITH_LINK')\n      return ( <span className=\"icon\" title=\"Open to anyone with the link\">&#xf0c1;</span> );\n    else \n      return ( <span className=\"icon\" title=\"Private\">&#xf023;</span> );\n  },\n\n  access_level: (level) => {\n    if (level === 'ADMIN')\n      return ( <span className=\"icon\" title=\"ADMIN\">&#xf0ad;</span> );\n    else if (level === 'WRITE')\n      return ( <span className=\"icon\" title=\"WRITE\">&#xf040;</span> );\n    else\n      return ( <span className=\"icon\" title=\"READ\">&#xf06e;</span> );\n  },\n\n  annotations: (annotations) =>\n    <NumberFormat \n      displayType=\"text\"\n      value={annotations}\n      thousandSeparator={true} />,\n\n  status_ratio: (ratio) => {\n    const total = ratio.verified + ratio.unverified + ratio.not_identifiable;\n    const pctGreen = ratio.verified / total * 100;\n    const pctYellow = ratio.not_identifiable / total * 100;\n\n    const labels = {\n      'verified': 'verified',\n      'unverified': 'unverified',\n      'not_identifiable': 'flagged'\n    }\n\n    const tooltip = ['verified', 'unverified', 'not_identifiable'].reduce((tooltip, next) => {\n      const count = ratio[next];\n      if (count === 0)\n        return tooltip;\n      else\n        return `${tooltip} ${count} ${labels[next]},`;\n    }, '').slice(0, -1);\n\n    return (\n      <span className=\"bar\" title={tooltip}>\n        <span className=\"verified\" style={{ width: `${pctGreen}%` }} />\n        <span className=\"not_identifiable\" style={{ width: `${pctYellow}%` }} />\n      </span>\n    )\n  }\n\n};\n\n/** Rules for aggregate fields **/\nconst AGGREGATE_FIELDS = {\n  agg_document: (item) => (item.author) ?\n                            `${item.author}, ${item.title}` : item.title\n};\n\nexport default class DocumentRow extends BaseRowComponent {\n\n  createAggregateField(url, field) {\n    return (\n      <a \n        key={field}\n        href={url} \n        className={field.substring(4)}\n        style={{ width: `${100 * super.getWidth(field)}%` }}>\n\n        {AGGREGATE_FIELDS[field](this.props.item)}\n      </a>\n    )\n  }\n\n  createField(url, field) {\n    const formatter = FORMATTERS[field];\n\n    const value = this.props.item[field] !== undefined ? \n      (formatter ? formatter(this.props.item[field]) : this.props.item[field]) :\n      ''; // empty value\n\n    return (\n      <a \n        key={field}\n        href={url}\n        className={field}\n        style={{ width: `${100 * super.getWidth(field)}%` }}>{value}</a>\n    )\n  }\n\n  render() {\n    const type = this.props.item.filetypes[0];\n    const url = `document/${this.props.item.id}/part/1/edit`;\n\n    return (\n      <div\n        className={`row${(this.props.selected) ? ' selected' : ''}`}\n        style={this.props.style}\n        onClick={this.props.onClick} >\n        \n        { this.props.columns.map(field => field.startsWith('agg_') ? \n          this.createAggregateField(url, field) : this.createField(url, field)) }\n\n        <span className={`type icon ${type}`}>\n          <img src={`/assets/images/${ICONS[type]}`} alt={`icon type ${type}`} />\n        </span>\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\n\nexport default class FolderRow extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      editable: false,\n      title: this.props.item.title \n    }\n  }\n\n  componentWillReceiveProps(next) {\n    this.setState({ \n      editable: false,\n      title: next.item.title \n    });\n  }\n\n  makeEditable(evt) {\n    this.setState({\n      editable: true \n    },() => this._input.select());\n    evt.preventDefault();\n    evt.stopPropagation();\n  }\n\n  onChange(evt) {\n    this.setState({ title: evt.target.value });\n  }\n\n  onKeyPress(evt) {\n    if (evt.which === 13) {\n      this.setState({ \n        editable: false\n      }, () => this.props.onRename(this.props.item, this.state.title));\n    }\n  }\n\n  render() {\n    return (\n      <a\n        href={`#${this.props.item.id}`} \n        style={this.props.style}\n        className={`row folder${(this.props.selected) ? ' selected' : ''}`}\n        onClick={this.props.onClick}>\n\n        <span className=\"folder-title\">\n          {this.state.editable ? \n            <input \n              ref={i => this._input = i}\n              value={this.state.title}\n              onClick={this.makeEditable.bind(this)}\n              onChange={this.onChange.bind(this)}\n              onKeyDown={this.onKeyPress.bind(this)} />\n          : <span\n              className=\"editable\" \n              onClick={this.makeEditable.bind(this)} >{this.state.title}</span> }\n        </span>\n\n        <span className=\"type icon\">&#xf07b;</span>\n      </a>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport { HEADER_NAMES } from '../Columns.js';\n\nconst SortableItem = SortableElement(({ label }) =>\n  <div className=\"card\">{label}</div>\n);\n\nconst SortableList = SortableContainer(({ items }) =>\n  <div className=\"column-order\">\n    {items.map((item, idx) => (\n      <SortableItem key={`card-${idx}`} index={idx} label={HEADER_NAMES[item]} />\n    ))}\n  </div>\n);\n\nexport default class ColumnOrder extends Component {\n\n  render() {\n    return (\n      <SortableList\n        items={this.props.items}\n        onSortEnd={e => this.props.onSortEnd(e.oldIndex, e.newIndex)} />\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport { arrayMove } from 'react-sortable-hoc';\n\nimport Modal from '../../../components/Modal.jsx';\nimport ColumnOrder from './ColumnOrder.jsx';\n\nimport { COLUMNS, HEADER_NAMES } from '../Columns.js';\n\nexport default class PreferencesModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      columns: props.columns.slice(0)\n    }\n  }\n\n  componentWillReceiveProps(next) {\n    if (next.columns !== this.props.columns)\n      this.setState({ columns: next.columns.slice(0) });\n  }\n\n  /** Computes a map (fieldname -> checked) from the current columns state **/\n  getCheckboxStates(props) {\n    const states = {};\n\n    COLUMNS.forEach(field => {\n      const isChecked = this.state.columns.includes(field);\n      states[field] = isChecked;\n    });\n\n    return states;\n  }\n\n  /** Sets visibility for all rows to the given boolean value **/\n  setAllRows(checked) {\n    const checkAll = () => {\n      const toAppend = \n        COLUMNS.filter(field => !this.state.columns.includes(field));\n\n      this.setState({ columns: this.state.columns.concat(toAppend) });\n    };\n\n    const uncheckAll = () => {\n      this.setState({ columns: [] });\n    };\n\n    if (checked) \n      checkAll();\n    else\n      uncheckAll();\n  }\n\n  /**\n   * Clicking 'ALL' either checks all boxes or - if all are currently\n   * checked, unchecks them.\n   */\n  onClickAll() {\n    const allRowsChecked = COLUMNS.length === this.state.columns.length;\n    if (allRowsChecked)\n      this.setAllRows(false);\n    else\n      this.setAllRows(true);\n  }\n\n  /** Toggles the checkbox with the given name **/\n  toggleOne(name) {\n    this.setState(prev => {\n      const idx = prev.columns.indexOf(name);\n      if (idx < 0)\n        prev.columns.push(name);\n      else\n        prev.columns.splice(idx, 1);        \n    \n      return prev;\n    });\n  }\n\n  onSort(oldIndex, newIndex) {\n    this.setState({\n      columns: arrayMove(this.state.columns, oldIndex, newIndex)\n    });\n  }\n\n  render() {\n    // Helper to create a single checkbox + label row\n    const createRow = (field) =>\n      <li key={field}>\n        <input\n          type=\"checkbox\"\n          id={field}\n          name={field}\n          checked={this.state.columns.includes(field)}\n          onChange={this.toggleOne.bind(this, field)} />\n        <label htmlFor={field}>{HEADER_NAMES[field]}</label>\n      </li>\n\n    return (\n      <Modal\n        className=\"preferences\"\n        title=\"Configure Columns\"\n        onClose={this.props.onCancel}>\n\n        <div className=\"scroll-pane\">\n          <div className=\"selected-columns\">\n            <button\n              className=\"all nostyle\"\n              onClick={this.onClickAll.bind(this)}>All</button>\n            <ul>\n              { COLUMNS.map(createRow) }\n            </ul>\n          </div>\n\n          <ColumnOrder\n            items={this.state.columns} \n            onSortEnd={this.onSort.bind(this)} />\n        </div>\n\n        <div className=\"buttons\">\n          <button\n            className=\"btn\"\n            onClick={this.props.onSave.bind(this, this.state.columns)}>Save</button>\n\n          <button \n            className=\"btn outline\"\n            onClick={this.props.onCancel}>Cancel</button>\n        </div>\n      </Modal>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport Dropzone from 'react-dropzone'\n\nimport { Columns } from './Columns.js';\nimport DropzoneDecoration from '../upload/DropzoneDecoration.jsx';\nimport Readme from '../Readme.jsx';\nimport Selection from '../Selection.js';\n\nimport HeaderRow from './rows/HeaderRow.jsx';\nimport DocumentRow from './rows/DocumentRow.jsx';\nimport FolderRow from './rows/FolderRow.jsx';\nimport PreferencesModal from  './preferences/PreferencesModal.jsx';\n\nexport default class TablePane extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      prefsOpen: false,\n      columns: Columns.filterByView(props.columns, props.view),\n      selection: new Selection(props.folders.concat(props.documents), props.selection)\n    }\n  }\n\n  /** Set derived state **/\n  componentWillReceiveProps(next) {\n    this.setState({ \n      columns: Columns.filterByView(next.columns, next.view),\n      selection: new Selection(next.folders.concat(next.documents), next.selection)\n    });\n  }\n\n  /** Handle click/SHIFT+click/CTRL+click selection via Selection helper class */\n  onClick(evt, item, idx) {\n    const isShift = evt.getModifierState(\"Shift\");\n    const isCtrl = evt.getModifierState(\"Control\");\n    \n    // Is this a selection or deselection?\n    const isSelectAction = this.props.selection && \n      (isShift || isCtrl || !this.props.selection.includes(item));\n\n    if (isSelectAction) {\n      if (isShift)\n        this.state.selection.selectRange(idx);\n      else\n        this.state.selection.selectItem(item, isCtrl);\n\n      this.props.onSelect(this.state.selection.getSelectedItems());\n      evt.preventDefault();\n    }\n  }\n\n  rowRenderer() {\n    const allItems = this.props.folders.concat(this.props.documents);\n\n    return ((args) => {\n      const item = allItems[args.index];\n      const selected = this.props.selection && this.props.selection.includes(item);\n\n      if (item.type === 'FOLDER')\n        return (\n          <FolderRow \n            key={args.key} \n            style={args.style} \n            item={item} \n            selected={selected}\n            onClick={e => this.onClick(e, item, args.index)} \n            onRename={this.props.onRenameFolder} />\n        )\n      else\n        return (\n          <DocumentRow\n            key={args.key}\n            style={args.style}\n            columns={this.state.columns}\n            item={item}\n            selected={selected}\n            onClick={e => this.onClick(e, item, args.index)} />\n        )\n    })\n  }\n\n  showPreferences(visible) {\n    this.setState({ prefsOpen: visible });\n  }\n\n  onSavePreferences(columns) {\n    this.setState({ prefsOpen: false });\n    this.props.onChangeColumnPrefs(columns);\n  }\n\n  sortBy(field) {\n    const asc = this.props.sorting ?\n      this.props.sorting.by === field ? !this.props.sorting.asc : true :\n      true;\n\n    this.props.onSort({ by: field, asc: asc });\n  }\n\n  onDrag(active) {\n    this.setState({ drag: active });\n  }\n\n  onDrop(files, _, evt) {\n    const url = evt.dataTransfer.getData('URL');\n\n    const hostname = url ? (() => {\n      const a = document.createElement('a');\n      a.href = url;\n      return a.hostname;\n    })() : null;\n\n    this.setState({ drag: false });\n\n    if (files.length > 0)\n      this.props.onDropFiles(files);\n    else if (url && hostname !== window.location.hostname) // Require external link\n      this.props.onDropURL(url);\n  }\n\n  render() {\n    const readme = React.Children.toArray(this.props.children)\n      .filter(c => c.type === Readme)\n      .shift(); // First readme or undefined\n\n    const tablePane =\n      <div className=\"documents-pane table-pane\">\n        <AutoSizer>\n          {({ height, width }) => (\n            <List\n              className=\"virtualized-list\"\n              width={width}\n              height={height}\n              rowCount={this.props.folders.length + this.props.documents.length}\n              rowHeight={47}\n              rowRenderer={this.rowRenderer()} />\n          )}\n        </AutoSizer>\n\n        { this.state.drag && <DropzoneDecoration /> }\n        { this.props.busy && <div className=\"busy-mask\" /> }\n      </div>\n\n    return (\n      <React.Fragment>\n        {readme}\n\n        <div className=\"documents-table-header\">\n          <HeaderRow \n            columns={this.state.columns} \n            onSort={this.sortBy.bind(this)}\n            sortColumn={this.props.sorting ? this.props.sorting.by : null} \n            sortAsc={this.props.sorting ? this.props.sorting.asc : null} />\n\n          <button\n            className=\"column-options-btn nostyle icon\"\n            onClick={this.showPreferences.bind(this, true)} >&#xf141;</button>\n        </div>\n\n        {this.props.disableFiledrop ? tablePane :\n          <Dropzone\n            className=\"dropzone\"\n            disableClick={true}\n            onDragEnter={this.onDrag.bind(this, true)}\n            onDragLeave={this.onDrag.bind(this, false)}\n            onDrop={this.onDrop.bind(this)}>\n            \n            {tablePane}\n            \n          </Dropzone>\n        }\n\n        {this.state.prefsOpen &&\n          <PreferencesModal\n            columns={this.props.columns}\n            onCancel={this.showPreferences.bind(this, false)} \n            onSave={this.onSavePreferences.bind(this)} />\n        }\n      </React.Fragment>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\n\nexport default class Folder extends Component {\n\n  render() {\n    return (\n      <a href={`#${this.props.id}`} \n        className={`cell${(this.props.selected) ? ' selected' : ''}`}\n        onClick={this.props.onClick}>\n\n        <div className=\"inner\">\n          <div className=\"item-wrapper\">\n            <div className=\"folder\">\n              <div className=\"label\">\n                {this.props.title}\n              </div>\n            </div>\n          </div>\n        </div>\n      </a>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\n\nexport default class Document extends Component {\n\n  render() {\n    const type = this.props.filetypes[0]; // TODO make more clever in the future\n    const isStacked = this.props.fileCount > 1;\n\n    return (\n      <a href={`document/${this.props.id}/part/1/edit`}\n        className={`cell${(this.props.selected) ? ' selected' : ''}`}\n        onClick={this.props.onClick} >\n        \n        <div className=\"inner\">\n          <div className={`item-wrapper${isStacked ? ' stacked' : ''}`}>\n            { isStacked && <div className=\"stack\" /> }\n            <div className={`document ${type}`}>\n              <div className=\"label\">\n                {this.props.title}\n              </div>\n            </div>\n          </div>\n        </div>\n      </a>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport Dropzone from 'react-dropzone'\n\nimport { AutoSizer, List } from 'react-virtualized';\n\nimport Selection from '../Selection.js';\nimport Folder from './Folder.jsx';\nimport Document from './Document.jsx';\nimport Readme from '../Readme.jsx';\n\nimport DropzoneDecoration from '../upload/DropzoneDecoration.jsx';\n\nconst ITEM_SIZE = 192;\n\n/**\n * Using the following example:\n *\n * https://stackoverflow.com/questions/46368305/how-to-make-a-list-grid-with-a-responsive-number-of-columns-using-react-virtuali\n * http://plnkr.co/edit/zjCwNeRZ7XtmFp1PDBsc?p=preview\n */\nexport default class GridPane extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selection: new Selection(props.folders.concat(props.documents), props.selection) \n    };\n  }\n\n  /** Set derived state **/\n  componentWillReceiveProps(next) {\n    this.setState({ \n      selection: new Selection(next.folders.concat(next.documents), next.selection)\n    });\n  }\n\n  /** Handle click/SHIFT+click/CTRL+click selection via Selection helper class */\n  onClick(evt, item, idx) {\n    const isShift = evt.getModifierState(\"Shift\");\n    const isCtrl = evt.getModifierState(\"Control\");\n\n    const isSelectAction =\n      isShift || isCtrl || !this.props.selection.includes(item);\n\n    if (isSelectAction) {\n      if (isShift)\n        this.state.selection.selectRange(idx);\n      else\n        this.state.selection.selectItem(item, isCtrl);\n\n      this.props.onSelect(this.state.selection.getSelectedItems());\n      evt.preventDefault();\n    }\n  }\n\n  rowRenderer(itemsPerRow, rowCount) {\n    const allItems = this.props.folders.concat(this.props.documents);\n\n    return ((args) => {\n      const fromIndex = args.index * itemsPerRow;\n      const toIndex = Math.min(fromIndex + itemsPerRow, allItems.length);\n      const itemsInRow = toIndex - fromIndex;\n\n      const renderedItems = new Array(itemsInRow).fill(undefined).map((_, rowIdx) => {\n        const idx = rowIdx + fromIndex;\n        const item = allItems[idx];\n\n        if (item.type === 'FOLDER')\n          return (\n            <Folder\n              key={idx} \n              id={item.id}\n              title={item.title} \n              selected={this.props.selection && this.props.selection.includes(item)}\n              onClick={e => this.onClick(e, item, idx)} />\n          )\n        else\n          return (\n            <Document\n              key={idx}\n              id={item.id}\n              title={item.title}\n              filetypes={item.filetypes}\n              fileCount={item.file_count}\n              selected={this.props.selection && this.props.selection.includes(item)}\n              onClick={e => this.onClick(e, item, idx)} />\n          )\n      });\n\n      if (itemsInRow < itemsPerRow) // Add dummies to preserve grid layout\n        renderedItems.push(new Array(itemsPerRow - itemsInRow).fill(undefined).map((_, idx) =>\n          <div className=\"cell dummy\" key={`dummy-${idx}`} />\n        ))\n\n      return (\n        <div\n          key={args.key}\n          style={args.style}\n          className=\"row\">\n          {renderedItems}\n        </div>\n      )\n    });\n  }\n\n  onDrag(active) {\n    this.setState({ drag: active });\n  }\n\n  onDrop(files, _, evt) {\n    const url = evt.dataTransfer.getData('URL');\n\n    this.setState({ drag: false });\n\n    if (files.length > 0) this.props.onDropFiles(files);\n    else if (url) this.props.onDropURL(url);\n  }\n\n  render() {\n    const readme = React.Children.toArray(this.props.children)\n      .filter(c => c.type === Readme)\n      .shift(); // First readme or undefined\n\n    const gridPane =\n      <AutoSizer>\n        {({ height, width }) => {\n          const itemCount = this.props.folders.length + this.props.documents.length;\n          const itemsPerRow = Math.floor(width / ITEM_SIZE);\n          const rowCount = Math.ceil(itemCount / itemsPerRow);\n\n          return (\n            <List\n              className=\"virtualized-grid\"\n              width={width}\n              height={height}\n              rowCount={rowCount}\n              rowHeight={ITEM_SIZE}\n              rowRenderer={this.rowRenderer(itemsPerRow, rowCount)} />\n          )\n        }}\n      </AutoSizer>\n\n    return (\n      <React.Fragment>\n        {readme}\n        <div className=\"documents-pane grid-pane\">\n          {this.props.disableFiledrop ? gridPane :\n            <Dropzone\n              className=\"dropzone\"\n              disableClick={true}\n              onDragEnter={this.onDrag.bind(this, true)}\n              onDragLeave={this.onDrag.bind(this, false)}\n              onDrop={this.onDrop.bind(this)}>\n\n              {gridPane}\n\n            </Dropzone>\n          }\n\n          { this.state.drag && <DropzoneDecoration /> }\n        </div>\n      </React.Fragment>\n    )\n  }\n\n}\n","// Columns available in all views\nconst COLUMNS_GENERAL = [\n  // Aggregate fields\n  // 'agg_document',\n\n  // Common fields\n  'author',\n  'title',\n  'language',\n  'date_freeform',\n  'uploaded_at',\n  'last_edit_at',\n  'last_edit_by',\n  'annotations',\n  'public_visibility',\n  'status_ratio'\n  // 'activity'\n];\n\n// Columns specific to SHARED_WITH_ME view\nconst COLUMNS_SHARED_WITH_ME = [\n  'owner',\n  'shared_by',\n  'access_level'\n];\n\nexport const COLUMNS = COLUMNS_GENERAL.concat(COLUMNS_SHARED_WITH_ME);\n\n// Labels to use for fields\nexport const HEADER_NAMES = {\n  // agg_document    : 'Document',\n\n  author            : 'Author',\n  title             : 'Title',\n  language          : 'Language',\n  date_freeform     : 'Date',\n  uploaded_at       : 'Uploaded at',\n  last_edit_at      : 'Last edit',\n  last_edit_by      : 'Last edit by',\n  annotations       : 'Annotations',\n  public_visibility : 'Visibility',\n  status_ratio      : 'Verification ratio',\n  activity          : 'Activity graph',\n\n  owner             : 'Document owner',\n  shared_by         : 'Shared by',\n  access_level      : 'Access'\n};\n\n// Relative width requirements per column (XL, L, M, S)\nexport const COLUMN_WIDTH = {\n  agg_document    : 'XL',\n\n  author            : 'M',\n  title             : 'L',\n  language          : 'M',\n  date_freeform     : 'M',\n  uploaded_at       : 'M',\n  last_edit_at      : 'M',\n  last_edit_by      : 'M',\n  annotations       : 'M',\n  public_visibility : 'M',\n  status_ratio      : 'M',\n  activity          : 'M',\n\n  owner             : 'M',\n  shared_by         : 'M',\n  access_level      : 'M'\n};\n\nexport const AGGREGATE_COLUMNS = {\n  agg_document: [ 'author', 'document' ]\n};\n\n// Static helper methods \nexport class Columns {\n\n  static getSpan(field) {\n    const w = COLUMN_WIDTH[field];\n    if (w === 'XL') \n      return 6;\n    else if (w === 'L')\n      return 4;\n    else if (w === 'M')\n      return 2;\n    else if (w === 'S')\n      return 1;\n  }\n\n  /** Expands agg_ columns to those that are required to build them **/\n  static expandAggregatedColumns(columns) {\n    return columns.reduce((result, field) => {\n      if (field.startsWith('agg_'))\n        result = result.concat(AGGREGATE_COLUMNS[field]);\n      else\n        // Just append\n        result.push(field);\n\n      return result;\n    }, []);\n  }\n\n  /** Removes the columns that are not applicable in the given view **/\n  static filterByView(columns, view) { \n    if (view === 'MY_DOCUMENTS')\n      // Remove columns specific to 'Shared With Me'\n      return columns.filter(c => !COLUMNS_SHARED_WITH_ME.includes(c));\n    else\n      // All\n      return columns; \n  }\n\n}","export default class Selection {\n    \n  constructor(allItems, selection) {\n    this._allItems = allItems;\n    this._selection = selection;\n  }\n\n  clear() {\n    this._selection = [];\n  }\n\n  isEmpty() {\n    return this._selection.length === 0;\n  }\n\n  getSelectedItems() {\n    return this._selection;\n  }\n\n  selectItem(item, isCtrlPressed) {\n    const thisIdx = this._selection.indexOf(item);\n    const isSelected = thisIdx > -1;\n\n    if (isCtrlPressed) {\n      // Toggle this item, leave the rest of the selection unchanged\n      if (isSelected)\n        this._selection.splice(thisIdx, 1);\n      else\n        this._selection.push(item);      \n    } else {\n      // Toggle state of this item and clear the rest of the selection\n      this._selection = [ item ];\n    }\n  }\n\n  /**\n   * Range selection: SHIFT + click. \n   * \n   * Behavior follows Mac conventions, cf. \n   * https://stackoverflow.com/questions/2959887/algorithm-for-shift-clicking-items-in-a-collection-to-select-them\n   */\n  selectRange(toIdx) {\n    const selectedIndices = this._selection.map(item => {\n      return this._allItems.indexOf(item);\n    });   \n    \n    const minIdx = Math.min.apply(null, selectedIndices);\n    const maxIdx = Math.max.apply(null, selectedIndices);\n\n    const isOutside = (toIdx > maxIdx) || (toIdx < minIdx);\n\n    const slice = (from, to) => this._allItems.slice(from, to + 1);\n\n    if (isOutside && toIdx > maxIdx)\n      // Expand selection downwards\n      this._selection = slice(minIdx, toIdx);\n    else if (isOutside)\n      // Expand selection upwards\n      this._selection = slice(toIdx, maxIdx);\n    else\n      // Fill from topmost\n      this._selection = slice(minIdx, toIdx);\n  }\n\n  static isSingleSelection(selected) {\n    return selected.length === 1;\n  }\n\n  static isSingleFolder(selected) {\n    return selected.length === 1 && selected[0].type === 'FOLDER';\n  }\n\n  static isSingleDocument(selected) {\n    return selected.length === 1 && selected[0].type === 'DOCUMENT';\n  }\n\n  static includesText(selected) {\n    const withText = selected.filter(item => {\n      return item.filetypes && item.filetypes.find(ft => ft.startsWith(\"TEXT\"));\n    });\n    return withText.length > 0;\n  }\n\n}","import React, { Component } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport ContentEditable from 'react-sane-contenteditable';\n\nconst INITIAL_STATE = {\n  editing: false,\n  modifiedContent: null\n}\n\nexport default class Readme extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.onKeydown = this.onKeydown.bind(this);\n  }\n\n  onKeydown(evt) {\n    if (evt.which === 27) // Esc\n      this.onCancel(); \n    else if (evt.ctrlKey && evt.which === 13) // Ctrl+Enter \n      this.onSave();\n  }\n\n  onEdit() {\n    document.addEventListener('keydown', this.onKeydown, false);\n    this.setState({ editing: true });\n  }\n\n  onChange(_, value) {\n    this.setState({ modifiedContent: value });\n  }\n\n  onDelete() {\n    document.removeEventListener('keydown', this.onKeydown, false);\n    this.props.onDelete && this.props.onDelete();\n  }\n\n  onSave() {\n    document.removeEventListener('keydown', this.onKeydown, false);\n    this.props.onUpdate && this.props.onUpdate(this.state.modifiedContent);\n    this.setState(INITIAL_STATE);\n  }\n\n  onCancel() {\n    document.removeEventListener('keydown', this.onKeydown, false);\n    if (typeof this.props.content === 'boolean')\n      this.onDelete();\n    else\n      this.setState(INITIAL_STATE);\n  }\n\n  renderView(content) {\n    return (\n      <div className=\"readme\">\n        <div className=\"wrapper\">\n          <div className=\"textbox\">\n            <ReactMarkdown source={content} />       \n          </div>\n\n          {this.props.onUpdate && this.props.onDelete &&\n            <span className=\"buttons modify\">\n              <button\n                className=\"icon nostyle\"\n                title=\"Edit\"\n                onClick={this.onEdit.bind(this)}>&#xf040;</button>\n            </span>\n          }\n        </div>\n      </div>\n    )\n  }\n\n  renderEdit(content) {\n    return (\n      <div className=\"readme editing\">\n        <div className=\"wrapper\">\n          <ContentEditable \n            tagName=\"div\"\n            className=\"textbox\"\n            content={content} \n            editable={true} \n            multiLine={true}\n            onChange={this.onChange.bind(this)}/>            \n\n          <div className=\"editbar\">\n            <span className=\"hint\">Supports styling with <a href=\"# \">Markdown</a></span>\n            <span className=\"buttons\">\n              <button\n                className=\"label nostyle\"\n                onClick={this.onDelete.bind(this)}>Delete description</button>\n\n              <button \n                className=\"icon nostyle\"\n                onClick={this.onSave.bind(this)}>&#xf00c;</button>\n\n              <button \n                className=\"icon nostyle\"\n                onClick={this.onCancel.bind(this)}>&#xf00d;</button>\n            </span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const editOnOpen = typeof this.props.content === 'boolean';\n\n    if (editOnOpen)\n      document.addEventListener('keydown', this.onKeydown, false);\n\n    const content = editOnOpen ? '' : \n      (this.state.modifiedContent ? this.state.modifiedContent : this.props.content);\n\n    return (this.state.editing || editOnOpen) ? this.renderEdit(content) : this.renderView(content);\n  }\n\n}\n","export default class StoredUIState {\n\n  static load() {\n    const state = {};\n\n    const addIfDefined = (key) => {\n      const value = localStorage.getItem(`r2.workspace.${key}`);\n      if (value) state[key] = JSON.parse(value);\n    }\n\n    ['view', 'presentation', 'table_columns', 'table_sorting'].map(addIfDefined)\n\n    return state;\n  }\n\n  static save(key, value) {\n    const prefixed = `r2.workspace.${key}`\n    localStorage.setItem(prefixed, JSON.stringify(value));\n  }\n\n}","import React, { Component } from 'react';\nimport Draggable from 'react-draggable';\n\nexport default class Modal extends Component {\n\n  render() {\n    return (\n      <div className={`clicktrap ${this.props.className}`}>\n        <div className=\"modal-wrapper\">\n          <Draggable handle=\".modal-header\">\n            <div className=\"modal\">\n              <div className=\"modal-header\">\n                <h1 className=\"title\">{this.props.title}</h1>\n                <button\n                  className=\"close nostyle\"\n                  onClick={this.props.onClose}>&#xe897;</button>\n              </div>\n\n              <div className=\"modal-body\">\n                {this.props.children}\n              </div>\n            </div>\n          </Draggable>\n        </div>\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport posed from 'react-pose';\n\nconst AnimatedDiv = posed.div({\n  open:   { \n    bottom: '30px',\n    transition: {\n      ease: 'easeOut',\n      duration:200\n    }\n  },\n  closed: { bottom: '-140px' }\n});\n\nexport default class DropzoneDecoration extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { visible: false };\n  }\n\n  componentDidMount() {\n    this.setState({ visible: true });\n  }\n\n  render() {\n    return (\n      <div className=\"dropzone-decoration\">\n        <AnimatedDiv className=\"inner\" pose={this.state.visible ? 'open' : 'closed'}>\n          <span className=\"icon\">&#xf0ee;</span>\n          <p className=\"instructions\">\n            Drop files or IIIF manifest URLs to add them to your workspace.\n          </p>\n          <p className=\"supported\">\n            Supported formats: plain text (UTF-8), TEI/XML, image files, CSV (UTF-8)\n          </p>\n        </AnimatedDiv>\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\n\nexport default class Avatar extends Component {\n\n  // https://medium.com/@pppped/compute-an-arbitrary-color-for-user-avatar-starting-from-his-username-with-javascript-cd0675943b66\n  stringToHslColor(str) {\n    let hash = 0;\n    for (let i=0; i<str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    return hash % 360;\n  }\n\n  render() {\n    const color = this.props.username ? `hsl(${this.stringToHslColor(this.props.username)}, 35%, 65%)` : '#e2e2e2';\n\n    return (\n      <div className=\"avatar\" style={{ backgroundColor: color }}>\n        <div className=\"inner\">\n          { this.props.username && this.props.username.charAt(0).toUpperCase() }\n        </div>\n      </div>\n    )\n  }\n\n}","import axios from 'axios';\n\nexport default class API {\n\n  static fetchLoginStatus() {\n    return axios.get('/api/me');\n  }\n\n  static fetchPublicAccountInfo(username) {\n    return axios.get(`/api/account/${username}`);\n  }\n\n  static fetchAccessibleDocuments(owner, config, opt_folderId) {\n    if (opt_folderId) // Avoid sending an empty string\n      return axios.post(`/api/directory/${owner}/${opt_folderId}`, config);\n    else \n      return axios.post(`/api/directory/${owner}`, config);\n  }\n\n}","import React, { Component } from 'react';\n\nimport ActivityWidget from '../../common/content/activity/ActivityWidget.jsx';\nimport CollaboratorList from '../../common/content/profile/CollaboratorList.jsx';\nimport ProfileInfo from '../../common/content/profile/ProfileInfo.jsx';\n\nexport default class Sidebar extends Component {\n\n  render() {\n    return (\n      <div className=\"sidebar\">\n        <div className=\"section\">\n          <ProfileInfo account={this.props.account} />\n        </div>\n\n        <ActivityWidget \n          className=\"section\" \n          width={237}\n          height={55}\n          fill=\"#4483c4\"\n          stats={this.props.account && this.props.account.stats} />\n\n        <CollaboratorList \n          className=\"section\"\n          title=\"Top collaborators\"\n          username={this.props.account && this.props.account.username} />\n      </div>\n    );\n  }\n\n}","import React, { Component } from 'react';\n\nexport default class Search extends Component {\n\n  render() {\n    return (\n      <div className=\"search\">\n        <div className=\"wrapper\">\n          <input placeholder=\"Search Recogito...\"/>\n        </div>\n        <span className=\"icon hand-lens\">&#xf002;</span>\n      </div>\n    )\n  }\n\n}","import React, { Component } from 'react';\n\nimport Search from './Search.jsx';\n\nexport default class TopBar extends Component {\n\n  notLoggedIn() {\n    return (\n      <div className=\"not logged-in\">\n        <a href=\"/login\">Log in</a>&nbsp; | &nbsp;New to Recogito? &nbsp;<a href=\"/\">Learn more</a>\n      </div>\n    )\n  }\n\n  loggedInAs() {\n    const name = this.props.me.real_name ? this.props.me.real_name : this.props.me.username;\n\n    return (\n      <div className=\"logged-in\">\n        Logged in as <a href={`/${this.props.me.username}`}>{name}</a>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"top-bar\">\n          <div className=\"top-left\">\n            <a href=\"/my\" className=\"home\">\n              <img src=\"/assets/images/logo-recogito-small.png\" alt=\"Recogito logo\" />\n            </a>\n            { this.props.me && this.props.me.logged_in && <a href=\"/my\">My Workspace</a> }\n            <a href=\"/help\">Help</a>\n            <a href=\"/help/about\">About</a>\n\n            <Search></Search>\n          </div>\n\n          <div className=\"top-right\">\n            {this.props.me && \n              this.props.me.logged_in ? this.loggedInAs() : this.notLoggedIn()\n            }\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n}","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport API from './API.js';\n\nimport GridPane from '../common/content/grid/GridPane.jsx';\nimport TablePane from '../common/content/table/TablePane.jsx';\nimport Breadcrumbs from '../common/content/Breadcrumbs.jsx';\nimport HeaderIcon from '../common/content/HeaderIcon.jsx';\nimport Readme from '../common/content/Readme.jsx';\nimport StoredUIState from '../common/StoredUIState.js';\nimport Sidebar from './sidebar/Sidebar.jsx';\nimport TopBar from './top/TopBar.jsx';\nimport { Columns } from '../common/content/table/Columns.js';\n\nimport '../../assets/style/profile/index.scss';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const state = {\n      me             : null, // Login identity\n      visitedAccount : null,\n      presentation   : 'TABLE',\n      table_columns  : [\n        \"author\",\n        \"title\",\n        \"language\",\n        \"date_freeform\",\n        \"uploaded_at\",\n        \"last_edit_at\"\n      ],\n      table_sorting  : null,\n      busy           : false,\n      documents      : null, // Can be null (not loaded yet) or [] (no shared documents)\n      total_docs     : null,\n      readme        : null\n    }\n\n    Object.assign(state, StoredUIState.load());\n    this.state = state;\n\n    this._profileOwner = (process.env.NODE_ENV === 'development') ? 'rainer' : window.location.pathname.substring(1);\n\n    window.onhashchange = this.reloadDocuments.bind(this);\n  }\n\n  componentDidMount() {\n    API\n      .fetchPublicAccountInfo(this._profileOwner)\n      .then(r => this.setState({ visitedAccount: r.data }));\n\n    API\n      .fetchLoginStatus()\n      .then(r => this.setState({ me: r.data })); \n\n    this.reloadDocuments();\n  }\n\n  reloadDocuments() {\n    this.setState({ busy: true });\n    const currentFolderId = document.location.hash.substring(1);\n\n    API\n      .fetchAccessibleDocuments(this._profileOwner, this.getDisplayConfig(), currentFolderId)\n      .then(r => this.setState({ \n        readme: r.data.readme,\n        documents: r.data.items,\n        total_docs: r.data.total,\n        busy: false\n      }));\n  }\n\n  getDisplayConfig() {\n    if (this.state.presentation === 'GRID')\n      return; // No configs for grid view\n\n    return {\n      columns: Columns.expandAggregatedColumns(this.state.table_columns),\n      sort: this.state.table_sorting\n    };\n  }\n\n  onTogglePresentation(presentation) {\n    this.setState(before => { \n      const p = (before.presentation === 'TABLE') ? 'GRID' : 'TABLE';\n      StoredUIState.save('presentation', p);\n      return { presentation: p };\n    });\n  }\n\n  onChangeColumnPrefs(columns) {\n    StoredUIState.save('table_columns', columns);\n    this.setState({ table_columns: columns }, () => {\n      this.reloadDocuments();\n    });\n  }\n  \n  onSortTable(sorting) {\n    StoredUIState.save('table_sorting', sorting);\n    this.setState({ table_sorting: sorting }, () => {\n      this.reloadDocuments();\n    });\n  }\n\n  render() {\n    const documents = this.state.documents || [];\n\n    return (\n      <React.Fragment>\n        <TopBar \n          me={this.state.me} />\n\n        <Sidebar \n          account={this.state.visitedAccount}/>\n\n        <div className=\"container\">\n          <Breadcrumbs\n            label=\"Public Documents\" \n            count={this.state.total_docs} />\n\n          <HeaderIcon\n            className=\"presentation-toggle stroke7\"\n            icon={(this.state.presentation === 'TABLE') ? '\\ue645' : '\\ue636'} \n            onClick={this.onTogglePresentation.bind(this)} />\n\n          {this.state.visitedAccount && (\n              \n              documents.length === 0 ? \n                <div className=\"no-public-documents\">\n                  {this.state.visitedAccount.username} has not shared any documents yet\n                </div> :\n\n                this.state.presentation === 'TABLE' ?\n                  <TablePane\n                    folders={[]}\n                    documents={documents}\n                    columns={this.state.table_columns}\n                    sorting={this.state.table_sorting}\n                    busy={this.state.busy} \n                    disableFiledrop={true} \n                    onSort={this.onSortTable.bind(this)} \n                    onChangeColumnPrefs={this.onChangeColumnPrefs.bind(this)}> \n\n                    {this.state.readme && \n                      <Readme content={this.state.readme} /> }\n                  </TablePane>\n                  :\n                  <GridPane\n                    folders={[]}\n                    documents={documents}\n                    busy={this.state.busy} \n                    disableFiledrop={true}>\n\n                    {this.state.readme && \n                      <Readme content={this.state.readme} /> }\n                  </GridPane>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('app'));\n","import React, { Component } from 'react';\n\nexport default class HeaderIcon extends Component {\n\n  render() {\n    return (\n      <div\n        className={`header-icon ${this.props.className}`}\n        onClick={this.props.onClick}>\n        {(this.props.link) ? \n          <a href={this.props.link} className=\"icon inner\">\n            {this.props.icon}\n          </a> :\n\n          <span className=\"icon inner\">\n            {this.props.icon}\n          </span>\n        }\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\n\nconst VIEW_LABELS = {\n  MY_DOCUMENTS: 'My Documents',\n  SHARED_WITH_ME: 'Shared with me'\n}\n\nexport default class Breadcrumbs extends Component {\n\n  render() {\n    const title = this.props.view ? VIEW_LABELS[this.props.view] : this.props.label;\n\n    return (\n      <div className=\"breadcrumbs\">\n        <h2>\n          <a className=\"root\" href=\"#\">{title}</a>\n\n          {this.props.path && this.props.path.map(b => \n            <a className=\"folder\" href={`#${b.id}`} key={b.id}>{b.title}</a>\n          )}\n        </h2>\n        \n        {this.props.count !== null &&\n          <span className=\"count\">{`(${this.props.count})`}</span>\n        }\n\n        {this.props.children}\n      </div>\n    )\n  }\n\n}\n"],"sourceRoot":""}