@(
  doc: services.document.DocumentInfo,
  currentUser: Option[services.user.User],
  accessLevel: services.document.DocumentAccessLevel
 )(implicit request: RequestHeader, webJarsUtil: org.webjars.play.WebJarsUtil)

@_layout("Tag Statistics", doc, currentUser, accessLevel, Some("tags")) {
  <div class="panel">
    <h2>Tags <span class="tags-total"></h2>
    <div class="inner">
      <table class="tags-by-count stats"></table>
      <p class="download-csv">
        <a href="@controllers.document.stats.routes.StatsController.getTagsAsCSV(doc.id)">Download CSV</a>
      </p>
    </div>
  </div>

  <script>
    window.config = {
      documentId: '@doc.id'
    }
  </script>
  @Html(webJarsUtil.requireJs(routes.Assets.versioned("javascripts/document/stats/tags.js")))

  @helper.javascriptRouter("jsRoutes")(
    controllers.document.stats.routes.javascript.StatsController.getTagsAsJSON
  )
}
